# ‡∏Å‡∏π‡∏à‡∏∞‡∏ß‡∏¥‡πà‡∏á MARATHON 2025 üèÉ‚Äç‚ôÇÔ∏èüèÅ

**‡∏™‡∏£‡∏∏‡∏õ:** ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡πÄ‡∏ß‡πá‡∏ö‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡πà‡∏á‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏á‡πà‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢ PHP ‡πÅ‡∏•‡∏∞ MySQL ‡∏°‡∏µ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô (`index.php`) ‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (`check_status.php`) ‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ú‡πà‡∏≤‡∏ô `db.php` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

---

## üîß Requirement (‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á)
- PHP 8.x
- MySQL / MariaDB
- ‡πÄ‡∏ß‡πá‡∏ö‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå (Apache ‡∏´‡∏£‡∏∑‡∏≠ Nginx) ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ PHP built-in server ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤
- (Optional) Composer ‡∏ñ‡πâ‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏° dependencies

---

## üöÄ Local setup (‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô‡∏ö‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á)
1. ‡∏ß‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÄ‡∏ß‡πá‡∏ö‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå (‡πÄ‡∏ä‡πà‡∏ô `C:\xampp\htdocs\marathon` ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÉ‡∏ô `d:\...` ‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏°‡∏µ)
2. ‡πÄ‡∏£‡∏¥‡πà‡∏° Apache + MySQL ‡∏´‡∏≤‡∏Å‡πÉ‡∏ä‡πâ XAMPP / MAMP / Laragon
3. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏∑‡πà‡∏≠ `if0_40745154_kitikon` ‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)
4. ‡∏£‡∏±‡∏ô‡πÑ‡∏ü‡∏•‡πå SQL schema (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô: `runner`, `registration`, `race_category`, `price_rate`, (‡πÅ‡∏•‡∏∞ `payments` ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
5. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÉ‡∏ô `db.php` (‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ environment ‡∏ï‡∏≤‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á `.env.example`)

‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô‡∏î‡πâ‡∏ß‡∏¢ PHP built-in server (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö dev):

```bash
cd path/to/project
php -S localhost:8000
# ‡πÄ‡∏õ‡∏¥‡∏î http://localhost:8000/index.php
```

---

## üìÅ ‡∏ï‡∏±‡∏ß‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç
- `index.php` ‚Äî ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡πà‡∏á ‡πÅ‡∏•‡∏∞ logic ‡∏Å‡∏≤‡∏£ insert ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏á `runner` ‡πÅ‡∏•‡∏∞ `registration`
- `db.php` ‚Äî ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÉ‡∏ä‡πâ mysqli ‡πÅ‡∏•‡∏∞‡πÄ‡∏Å‡πá‡∏ö cred ‡∏ï‡∏£‡∏á‡πÑ‡∏ü‡∏•‡πå)
- `check_status.php` ‚Äî ‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏´‡πâ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ `citizen_id` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£

---

## üõ† Development workflow (‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤)
- ‡πÉ‡∏ä‡πâ Git: ‡∏™‡∏£‡πâ‡∏≤‡∏á branch ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö feature/bug ‡πÄ‡∏ä‡πà‡∏ô `git checkout -b feat/payment`
- ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î + commit ‡∏î‡πâ‡∏ß‡∏¢‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô + ‡πÄ‡∏õ‡∏¥‡∏î PR ‡πÄ‡∏û‡∏∑‡πà‡∏≠ review
- ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏ä‡πâ prepared statements (mysqli_prepare / PDO) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô SQL injection
- ‡πÄ‡∏û‡∏¥‡πà‡∏° unit test (PHPUnit) ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ business logic ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

---

## üîê Security & Best Practices
- **‡∏´‡πâ‡∏≤‡∏°**‡πÄ‡∏Å‡πá‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠ API keys ‡πÉ‡∏ô repo (‡πÉ‡∏ä‡πâ environment variables)
- ‡πÉ‡∏ä‡πâ prepared statements ‡∏´‡∏£‡∏∑‡∏≠ PDO ‡πÅ‡∏ó‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠ string ‡πÉ‡∏ô SQL
- Validate ‡πÅ‡∏•‡∏∞ sanitize ‡∏ó‡∏∏‡∏Å input (email, phone, citizen_id)
- ‡∏õ‡∏¥‡∏î display_errors ‡πÉ‡∏ô production ‡πÅ‡∏•‡∏∞‡πÄ‡∏Å‡πá‡∏ö log ‡πÅ‡∏¢‡∏Å
- ‡πÄ‡∏õ‡∏¥‡∏î HTTPS (TLS) ‡πÉ‡∏ô production

---

## ‚òÅÔ∏è Deployment (‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏™‡∏±‡πâ‡∏ô‡πÜ)
1. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å hosting (VPS / PaaS / shared)
2. ‡πÉ‡∏ä‡πâ env vars ‡∏ö‡∏ô‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö DB credentials
3. Backup DB ‡∏Å‡πà‡∏≠‡∏ô migration (`mysqldump`)
4. Deploy: `git pull` ‚Üí `composer install` (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ) ‚Üí run migrations ‚Üí restart web server
5. ‡∏ï‡∏±‡πâ‡∏á monitoring / backups / error reporting (Sentry / Uptime)

---

## üìå ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á `.env` (‡∏´‡πâ‡∏≤‡∏° commit ‡∏Ç‡∏≠‡∏á‡∏à‡∏£‡∏¥‡∏á)
‡∏î‡∏π‡πÑ‡∏ü‡∏•‡πå `.env.example` ‡πÉ‡∏ô repo ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≥‡∏´‡∏ô‡∏î

---

## ‚úÖ To-do / Suggestions
- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô `db.php` ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ environment variables (‡πÄ‡∏ä‡πà‡∏ô `getenv()`)
- ‡πÄ‡∏û‡∏¥‡πà‡∏° prepared statements / switch to PDO
- ‡πÄ‡∏û‡∏¥‡πà‡∏° migration SQL ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á seed data
- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô (payment gateway integration)

---

‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‡∏ú‡∏°‡∏à‡∏∞:
- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå migration SQL ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á
- ‡πÅ‡∏Å‡πâ `db.php` ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ `.env` ‡∏´‡∏£‡∏∑‡∏≠ `getenv()` ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏° `.env.example`

‡∏ö‡∏≠‡∏Å‡∏ú‡∏°‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÉ‡∏´‡πâ‡∏ú‡∏°‡∏ó‡∏≥‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÉ‡∏î‡∏ï‡πà‡∏≠‡∏Ñ‡∏£‡∏±‡∏ö ‚úÖ